<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>äº¬é˜ªç¥äº”æ—¥éŠ</title>
    <style>
        :root {
            --primary: #2b4e72; /* é‰„ç´º */
            --accent: #b64952;  /* ç´…æ¨º */
            --bg: #f4f6f8;
            --card-bg: rgba(255, 255, 255, 0.92);
            --text: #2c3e50;
            --sub-text: #546e7a;
            --border-radius: 12px;
        }
        
        body {
            font-family: "Hiragino Mincho ProN", "Yu Mincho", serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            padding-bottom: 100px;
            -webkit-tap-highlight-color: transparent;
            min-height: 100vh;
        }

        /* Dynamic Background */
        #app-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            opacity: 0.15;
            transition: background-image 0.6s ease-in-out;
            filter: saturate(0.8);
        }

        .header {
            background: linear-gradient(135deg, var(--primary), #1a253a);
            color: white;
            padding: 24px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .header h1 { margin: 0; font-size: 22px; font-weight: 500; letter-spacing: 1px; font-family: sans-serif; }
        .header p { margin: 6px 0 0; font-size: 13px; opacity: 0.8; font-weight: 300; letter-spacing: 0.5px; }

        .container { padding: 20px; max-width: 600px; margin: 0 auto; }

        /* Weather Widget */
        .weather-widget {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 12px 16px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 8px rgba(43, 78, 114, 0.08);
            border: 1px solid #e1e8ed;
            backdrop-filter: blur(5px);
        }
        .weather-icon { font-size: 24px; margin-right: 12px; }
        .weather-info { flex: 1; }
        .weather-temp { font-size: 18px; font-weight: bold; color: var(--primary); }
        .weather-desc { font-size: 12px; color: var(--sub-text); }
        .api-badge {
            font-size: 9px; background: #e0f2fe; color: #0284c7;
            padding: 2px 6px; border-radius: 4px; margin-left: 6px;
            vertical-align: middle; font-weight: bold; border: 1px solid #bae6fd;
        }

        .card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 18px;
            margin-bottom: 16px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.04);
            border-left: 3px solid var(--primary);
            position: relative;
            overflow: hidden;
            transition: transform 0.1s;
            backdrop-filter: blur(5px);
        }
        .card:active { transform: scale(0.98); }
        
        .card.hotel { border-left-color: #e67e22; }
        .card.food { border-left-color: var(--accent); }
        .card.flight { border-left-color: #8e44ad; }
        .card.train { border-left-color: #27ae60; }

        .time { font-weight: 700; color: var(--sub-text); font-size: 12px; display: block; margin-bottom: 6px; font-family: sans-serif; }
        .title { font-weight: 600; font-size: 17px; margin-bottom: 6px; display: block; color: var(--primary); line-height: 1.3; }
        .desc { font-size: 14px; color: #4a5568; line-height: 1.6; font-family: sans-serif; }
        
        .fare-tag {
            display: inline-block; background-color: #f0fdf4; color: #166534;
            border: 1px solid #bbf7d0; padding: 2px 6px; border-radius: 4px;
            font-size: 11px; font-weight: bold; margin-left: 6px; vertical-align: text-bottom; font-family: sans-serif;
        }

        .timetable {
            margin-top: 10px; background: rgba(248, 250, 252, 0.8);
            border-radius: 6px; padding: 10px; font-size: 13px; font-family: monospace; border: 1px solid #e2e8f0;
        }
        .timetable-row { display: flex; justify-content: space-between; padding: 4px 0; border-bottom: 1px dashed #cbd5e1; }
        .timetable-row:last-child { border-bottom: none; }
        .timetable-time { font-weight: bold; color: var(--primary); }
        .timetable-dest { color: #64748b; }
        
        .btn-group { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
        
        .btn-map {
            display: inline-flex; align-items: center; padding: 8px 12px;
            background-color: #f0f4f8; color: var(--primary); border-radius: 20px;
            text-decoration: none; font-size: 12px; font-weight: 600; cursor: pointer; border: none; font-family: inherit;
        }
        .btn-map:active { background-color: #dbeafe; }

        .btn-info {
            display: inline-flex; align-items: center; padding: 8px 12px;
            background-color: #fff; color: var(--primary); border: 1px solid var(--primary);
            border-radius: 20px; text-decoration: none; font-size: 12px; font-weight: 600; cursor: pointer; font-family: inherit;
        }
        .btn-info:active { background-color: #f0f9ff; }

        /* Map Grid */
        .map-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .map-card {
            background: white; border-radius: 8px; padding: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05); text-align: center; border: 1px solid #eee;
            display: flex; flex-direction: column; justify-content: space-between;
        }
        .map-name { font-weight: bold; color: var(--primary); margin-bottom: 4px; font-size: 15px; }
        .map-tag {
            font-size: 10px; color: white; background: #95a5a6; padding: 2px 6px;
            border-radius: 4px; display: inline-block; margin-bottom: 8px; align-self: center;
        }
        .tag-jr { background: #0072bc; }
        .tag-metro { background: #e74c3c; }
        .tag-kintetsu { background: #d35400; }
        .tag-port { background: #8e44ad; }
        
        .btn-view-map {
            background: var(--primary); color: white; text-decoration: none; font-size: 12px;
            padding: 10px 6px; border-radius: 4px; display: block; margin-top: auto;
            cursor: pointer; width: 100%; border: none; font-family: inherit;
        }

        /* Nav Bar */
        .nav-bar {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(10px);
            display: flex; justify-content: space-between; padding: 8px 0 20px 0;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.08); z-index: 100; border-top: 1px solid #e2e8f0;
        }
        .nav-item {
            text-align: center; cursor: pointer; flex: 1; display: flex;
            flex-direction: column; align-items: center; justify-content: center;
            font-family: sans-serif; position: relative; padding: 4px 0; min-width: 0;
        }
        .nav-weather-icon { font-size: 20px; margin-bottom: 2px; transition: transform 0.2s; }
        .nav-info { font-size: 9px; color: #94a3b8; font-weight: 500; margin-bottom: 1px; white-space: nowrap; }
        .nav-temp {
            font-size: 8px; color: #64748b; font-weight: 600; background: #f1f5f9;
            padding: 1px 4px; border-radius: 10px; margin-top: 2px; transition: all 0.3s;
        }
        .nav-item.active .nav-weather-icon { transform: scale(1.1) translateY(-2px); }
        .nav-item.active .nav-info { color: var(--primary); font-weight: 700; }
        .nav-item.active .nav-temp { background: var(--primary); color: white; }
        .nav-item.active::after {
            content: ''; position: absolute; top: 0; left: 50%; transform: translateX(-50%);
            width: 40%; height: 3px; background: var(--accent); border-radius: 0 0 3px 3px;
        }

        /* Tabs & Modals */
        .day-content { display: none; animation: fadeIn 0.4s; }
        .day-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(4px); z-index: 2000;
            display: none; justify-content: center; align-items: center; opacity: 0; transition: opacity 0.3s;
        }
        .modal-overlay.open { display: flex; opacity: 1; }
        .modal-card {
            background: white; width: 85%; max-width: 400px; border-radius: 16px;
            padding: 24px; position: relative; transform: translateY(20px); transition: transform 0.3s;
            border-top: 5px solid var(--primary);
        }
        .modal-overlay.open .modal-card { transform: translateY(0); }
        .modal-close {
            position: absolute; top: 16px; right: 16px; background: #f1f5f9; border: none;
            width: 32px; height: 32px; border-radius: 50%; font-size: 18px; color: #64748b; cursor: pointer;
        }
        .modal-tag {
            display: inline-block; padding: 4px 12px; background: #e0f2fe; color: var(--primary);
            border-radius: 20px; font-size: 12px; font-weight: 700; margin-bottom: 12px;
        }
        .modal-title { font-size: 22px; font-weight: bold; color: #1e293b; margin-bottom: 16px; line-height: 1.3; padding-right: 30px;}
        .modal-desc { font-size: 15px; line-height: 1.7; color: #475569; margin-bottom: 8px; text-align: justify; }
    </style>
</head>
<body>

    <!-- Background -->
    <div id="app-background" style="background-image: url('https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=2070');"></div>

    <div class="header">
        <h1 id="header-title">Day 1: å¤§é˜ªæŠµé”</h1>
        <p id="header-date">1æœˆ10æ—¥ (äº”)</p>
    </div>

    <div class="container">
        
        <!-- Day 1 -->
        <div id="day1" class="day-content active">
            <div class="weather-widget" id="weather-day1">
                <div style="display:flex; align-items:center;">
                    <div class="weather-icon">â˜ï¸</div>
                    <div class="weather-info"><div class="weather-temp">4Â°C - 10Â°C</div><div class="weather-desc">å¤§é˜ªãƒ»å¤šé›²æ™‚é™°</div></div>
                </div>
                <div style="font-size:11px; color:#999; text-align:right;">ç©¿æ­å»ºè­°<br>åšå¤§è¡£/åœå·¾</div>
            </div>

            <div class="card flight">
                <span class="time">09:00 - 12:30</span>
                <span class="title">âœˆï¸ æ˜Ÿå®‡èˆªç©º JX306</span>
                <span class="desc">å°ä¸­ (RMQ) -> ç¥æˆ¶ (UKB)</span>
            </div>
            
            <div class="card train">
                <span class="time">13:20 - 14:00 (é ä¼°)</span>
                <span class="title">ğŸš äº¤é€šï¼šç¥æˆ¶æ©Ÿå ´ -> ä¸‰å®® <span class="fare-tag">Â¥340</span></span>
                <span class="desc">æ­ä¹˜ Port Liner è‡³ä¸‰å®®ç«™ (ç´„ 18 åˆ†)ã€‚</span>
                <div class="timetable">
                    <div class="timetable-row"><span class="timetable-time">13:20</span> <span class="timetable-dest">å¾€ ä¸‰å®®</span></div>
                    <div class="timetable-row"><span class="timetable-time">13:30</span> <span class="timetable-dest">å¾€ ä¸‰å®®</span></div>
                    <div class="timetable-row"><span class="timetable-time">13:40</span> <span class="timetable-dest">å¾€ ä¸‰å®®</span></div>
                    <div class="timetable-row"><span class="timetable-time">13:50</span> <span class="timetable-dest">å¾€ ä¸‰å®®</span></div>
                    <div class="timetable-row"><span class="timetable-time">14:00</span> <span class="timetable-dest">å¾€ ä¸‰å®®</span></div>
                </div>
            </div>

            <div class="card train">
                <span class="time">14:00 - 15:00 (é ä¼°)</span>
                <span class="title">ğŸš„ JR äº¤é€šï¼šä¸‰å®® -> å¤§é˜ª <span class="fare-tag">Â¥420</span></span>
                <span class="desc">
                    æ­ä¹˜ JR ç¥æˆ¶ç·šã€æ–°å¿«é€Ÿã€‘å‰å¾€å¤§é˜ªã€‚<br>
                    <span style="color:#c0392b; font-weight:bold; background:#f9e79f; padding:2px 4px; border-radius:4px;">âš ï¸ 14ç¯€è»Šå»‚æ­é›»æ¢¯è‡³å¾¡å ‚ç­‹å£</span>
                </span>
                <div class="timetable">
                    <div class="timetable-row"><span class="timetable-time">14:00</span> <span class="timetable-dest">å¿«é€Ÿ (14:29 æŠµé”)</span></div>
                    <div class="timetable-row" style="background-color: #fff8e1;"><span class="timetable-time">14:07</span> <span class="timetable-dest" style="color:#d35400;">æ–°å¿«é€Ÿ (14:28 æŠµé”)</span></div>
                    <div class="timetable-row"><span class="timetable-time">14:15</span> <span class="timetable-dest">å¿«é€Ÿ (14:44 æŠµé”)</span></div>
                    <div class="timetable-row" style="background-color: #fff8e1;"><span class="timetable-time">14:22</span> <span class="timetable-dest" style="color:#d35400;">æ–°å¿«é€Ÿ (14:43 æŠµé”)</span></div>
                    <div class="timetable-row"><span class="timetable-time">14:30</span> <span class="timetable-dest">å¿«é€Ÿ (14:59 æŠµé”)</span></div>
                    <div class="timetable-row" style="background-color: #fff8e1;"><span class="timetable-time">14:37</span> <span class="timetable-dest" style="color:#d35400;">æ–°å¿«é€Ÿ (14:58 æŠµé”)</span></div>
                    <div class="timetable-row"><span class="timetable-time">14:45</span> <span class="timetable-dest">å¿«é€Ÿ (15:14 æŠµé”)</span></div>
                    <div class="timetable-row" style="background-color: #fff8e1;"><span class="timetable-time">14:52</span> <span class="timetable-dest" style="color:#d35400;">æ–°å¿«é€Ÿ (15:13 æŠµé”)</span></div>
                </div>
            </div>

            <div class="card train">
                <span class="time">14:40 - 15:20 (é ä¼°)</span>
                <span class="title">ğŸš‡ åœ°éµï¼šæ¢…ç”° -> å¿ƒé½‹æ©‹ -> é•·å €æ©‹ <span class="fare-tag">Â¥240</span></span>
                <span class="desc">å¾¡å ‚ç­‹ç·šè‡³å¿ƒé½‹æ©‹ï¼Œè½‰é•·å €é¶´è¦‹ç¶ åœ°ç·šè‡³é•·å €æ©‹ã€‚</span>
            </div>

            <div class="card hotel">
                <span class="time">Check-in (é è¨ˆ 15:30)</span>
                <span class="title">ğŸ¨ ä½å®¿ï¼šå³¶ä¹‹å…§</span>
                <span class="desc">1-chÅme-21-2 Shimanouchi</span>
                <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=1-chÅme-21-2+Shimanouchi+Osaka')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>

            <div class="card food">
                <span class="time">15:30</span>
                <span class="title">â˜• Mel Coffee Roasters</span>
                <span class="desc">å¿…å–å† è»å’–å•¡ (éœ€æ³¨æ„18:00æ‰“çƒŠ)ã€‚</span>
                <div class="btn-group">
                    <button onclick="showSpot('mel-coffee')" class="btn-info">â„¹ï¸ æ™¯é»ä»‹ç´¹</button>
                    <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Mel+Coffee+Roasters+Osaka')" class="btn-map">ğŸ“ æœ¬åº—</button>
                    <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=1+Chome-4-21+Shinmachi,+Nishi+Ward,+Osaka')" class="btn-map">ğŸ“ æ–°ç”ºåº—</button>
                </div>
            </div>

            <div class="card">
                <span class="time">16:00 - 19:00</span>
                <span class="title">ğŸ›ï¸ å¿ƒé½‹æ©‹ç­‹å•†åº—è¡—</span>
                <span class="desc">å¤§é˜ªæœ€ç†±é¬§çš„è³¼ç‰©æ‹±å»Šã€‚</span>
                <div class="btn-group">
                    <button onclick="showSpot('shinsaibashi')" class="btn-info">â„¹ï¸ æ™¯é»ä»‹ç´¹</button>
                    <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Shinsaibashi-suji+Shopping+Street')" class="btn-map">ğŸ“ å°èˆª</button>
                </div>
            </div>

            <div class="card food">
                <span class="time">19:30</span>
                <span class="title">ğŸ½ï¸ æ™šé¤ï¼šOkonomiyaki Yukari</span>
                <span class="desc">åƒæ—¥å‰åº— (Sennichimae)ã€‚</span>
                <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Okonomiyaki+Yukari+Sennichimae')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>

            <div class="card">
                <span class="time">21:00</span>
                <span class="title">ğŸš¢ Wonder Cruise è§€å…‰èˆ¹</span>
                <span class="desc">å¤œéŠé“é “å €å· (ç´„20åˆ†)ã€‚</span>
                <div class="btn-group">
                    <button onclick="showSpot('cruise')" class="btn-info">â„¹ï¸ æ™¯é»ä»‹ç´¹</button>
                    <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Wonder+Cruise+Dotonbori')" class="btn-map">ğŸ“ å°èˆª</button>
                </div>
            </div>

            <div class="card hotel">
                <span class="time">21:30</span>
                <span class="title">ğŸ›ï¸ è¿”å›ä½å®¿ä¼‘æ¯</span>
                <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=1-chÅme-21-2+Shimanouchi+Osaka')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>

            <div class="card">
                <span class="time">Late Night</span>
                <span class="title">ğŸ¸ ä½å®¿é™„è¿‘æ¨è–¦é…’å§</span>
                <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Bar+Nayuta+Osaka')" class="btn-map">ğŸ“ å°èˆª (Nayuta)</button>
            </div>
        </div>

        <!-- Day 2 -->
        <div id="day2" class="day-content">
            <div class="weather-widget" id="weather-day2">
                <div style="display:flex; align-items:center;">
                    <div class="weather-icon">â˜€ï¸</div>
                    <div class="weather-info"><div class="weather-temp">...</div><div class="weather-desc">è¼‰å…¥ä¸­...</div></div>
                </div>
                <div style="font-size:11px; color:#999; text-align:right;">ç©¿æ­å»ºè­°<br>ä¿æš–å±¤æ¬¡/æ´‹è”¥å¼</div>
            </div>

            <div class="card train">
                <span class="time">08:30 - 09:15</span>
                <span class="title">ğŸš‡ ç§»å‹•ï¼šå‰å¾€å¤§é˜ªåŸ <span class="fare-tag">Â¥240</span></span>
                <span class="desc">é•·å €é¶´è¦‹ç¶ åœ°ç·šè‡³ã€Œå¤§é˜ªå•†å‹™åœ’å€ç«™ã€ã€‚1è™Ÿå‡ºå£æ­¥è¡Œè‡³æ¥µæ¨‚æ©‹ã€‚</span>
                <button onclick="openMap('https://www.google.com/maps/dir/Osaka+Business+Park+Station/Osaka+Castle+Gozabune+Pier/')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>

            <div class="card">
                <span class="time">09:15 - 10:30</span>
                <span class="title">ğŸš¢ è²·ç¥¨ & å¤§é˜ªåŸå¾¡åº§èˆ¹</span>
                <span class="desc">09:15 æŠµé”è³¼ç¥¨ï¼Œå»ºè­°æ¶é¦–ç­ 10:00ã€‚</span>
                <div class="btn-group">
                    <button onclick="showSpot('gozabune')" class="btn-info">â„¹ï¸ æ™¯é»ä»‹ç´¹</button>
                </div>
            </div>

            <div class="card">
                <span class="time">10:30 - 12:00</span>
                <span class="title">ğŸ¯ å¤§é˜ªåŸå¤©å®ˆé–£</span>
                <span class="desc">åƒè§€å¤©å®ˆé–£ã€‚</span>
                <div class="btn-group">
                    <button onclick="showSpot('osakacastle')" class="btn-info">â„¹ï¸ æ™¯é»ä»‹ç´¹</button>
                    <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Osaka+Castle')" class="btn-map">ğŸ“ å°èˆª</button>
                </div>
            </div>

            <div class="card food">
                <span class="time">12:30</span>
                <span class="title">ğŸœ åˆé¤ï¼šRamen CHORO</span>
                <span class="desc">æ¥µè‡´ç¾å‘³é†¬æ²¹æ‹‰éºµã€‚</span>
                <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Ramen+CHORO+Osaka')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>

            <div class="card">
                <span class="time">14:00 - 15:30</span>
                <span class="title">ğŸ™ï¸ æ¢…ç”°è—å¤©å¤§å»ˆ (ç©ºä¸­åº­åœ’)</span>
                <div class="btn-group">
                    <button onclick="showSpot('skybuilding')" class="btn-info">â„¹ï¸ æ™¯é»ä»‹ç´¹</button>
                    <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Umeda+Sky+Building')" class="btn-map">ğŸ“ å°èˆª</button>
                </div>
            </div>

            <div class="card">
                <span class="time">15:30 - 18:30</span>
                <span class="title">ğŸ›ï¸ æ¢…ç”°å‘¨é‚Šæ¢ç´¢</span>
                <span class="desc">Grand Front Osakaã€Nintendo Osakaã€ä¸­å´ç”ºã€‚</span>
                <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Grand+Front+Osaka')" class="btn-map">ğŸ“ å°èˆª (Grand Front)</button>
            </div>

            <div class="card food">
                <span class="time">19:30</span>
                <span class="title">ğŸ» æ™šé¤ï¼šå·åŒ—å•†åº—</span>
                <span class="desc">KITTEå¤§é˜ªåº—ã€‚</span>
                <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Kawakita+Shoten+KITTE+Osaka')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>

            <div class="card hotel">
                <span class="time">21:30</span>
                <span class="title">ğŸ›ï¸ è¿”å›ä½å®¿ä¼‘æ¯</span>
                <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=1-chÅme-21-2+Shimanouchi+Osaka')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>
        </div>

        <!-- Day 3 -->
        <div id="day3" class="day-content">
            <div class="weather-widget" id="weather-day3">
                <div style="display:flex; align-items:center;">
                    <div class="weather-icon">ğŸŒ¤ï¸</div>
                    <div class="weather-info"><div class="weather-temp">...</div><div class="weather-desc">è¼‰å…¥ä¸­...</div></div>
                </div>
                <div style="font-size:11px; color:#999; text-align:right;">ç©¿æ­å»ºè­°<br>æ‰‹å¥—/æš–æš–åŒ…</div>
            </div>

            <div class="card train">
                <span class="time">08:20 - 09:00</span>
                <span class="title">ğŸš‡ ç§»å‹•ï¼šå‰å¾€å¤§é˜ªé›£æ³¢ç«™ <span class="fare-tag">Â¥190</span></span>
                <span class="desc">08:20 å‡ºç™¼ï¼Œç›®æ¨™ 09:00 æŠµé”è¿‘éµæœˆå°ã€‚</span>
                <button onclick="openMap('https://www.google.com/maps/dir/1-chÅme-21-2+Shimanouchi/Osaka+Namba+Station/')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>

            <div class="card flight">
                <span class="time">09:10 - 10:29</span>
                <span class="title">ğŸšƒ è§€å…‰ç‰¹æ€¥ AONIYOSHI (209ä¾¿) <span class="fare-tag">ç´„Â¥1,370</span></span>
                <span class="desc">å¤§é˜ªé›£æ³¢ -> äº¬éƒ½ (1è»Š 5CD, 6ABCD)ã€‚</span>
                <div class="btn-group">
                    <button onclick="showSpot('aoniyoshi')" class="btn-info">â„¹ï¸ æ™¯é»ä»‹ç´¹</button>
                </div>
            </div>

            <div class="card hotel">
                <span class="time">11:00</span>
                <span class="title">ğŸ¨ ä½å®¿ï¼šK-style æ±æœ¬é¡˜å¯º</span>
                <span class="desc">å¯„æ”¾è¡Œæã€‚</span>
                <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=K-style+Higashi-Honganji')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>

            <div class="card train">
                <span class="time">11:20 - 11:55</span>
                <span class="title">ğŸšŒ å…¬è»Šï¼šå‰å¾€å®®å· è±šè¡›é–€ <span class="fare-tag">Â¥230</span></span>
                <span class="desc">çƒä¸¸ä¸ƒæ¢æ­ 205 è™Ÿè‡³æ²³åŸç”ºæ¾åŸã€‚</span>
                <button onclick="openMap('https://www.google.com/maps/dir/K-style+Higashi-Honganji/Miyagawa+Tonemon')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>

            <div class="card food">
                <span class="time">12:00</span>
                <span class="title">ğŸ– åˆé¤ï¼šå®®å· è±šè¡›é–€</span>
                <span class="desc"><span style="color:#c0392b;">â˜…å·²é ç´„ 12:00</span></span>
                <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Miyagawa+Tonemon+Kyoto')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>

            <div class="card">
                <span class="time">14:00 - 16:30</span>
                <span class="title">â›©ï¸ æ¸…æ°´å¯º & äºŒä¸‰å¹´å‚</span>
                <div class="btn-group">
                    <button onclick="showSpot('kiyomizu')" class="btn-info">â„¹ï¸ æ™¯é»ä»‹ç´¹</button>
                    <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Kiyomizu-dera')" class="btn-map">ğŸ“ å°èˆª</button>
                </div>
            </div>

            <div class="card">
                <span class="time">16:30 - 17:15</span>
                <span class="title">ğŸŒ¸ ç¥‡åœ’ç™½å·</span>
                <div class="btn-group">
                    <button onclick="showSpot('gion')" class="btn-info">â„¹ï¸ æ™¯é»ä»‹ç´¹</button>
                    <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Gion+Tatsumi+Bridge')" class="btn-map">ğŸ“ å°èˆª</button>
                </div>
            </div>

            <div class="card food">
                <span class="time">17:30</span>
                <span class="title">ğŸ½ï¸ æ™šé¤ï¼šå¯Œä¹‹ä¸Š ç¥‡åœ’æœ¬åº—</span>
                <span class="desc"><span style="color:#c0392b;">â˜… 17:30 ç”¨é¤</span> å’Œç‰›å£½å–œç‡’ã€‚</span>
                <button onclick="openMap('https://maps.app.goo.gl/3h349afqnxhidwU16?g_st=ic')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>

            <div class="card">
                <span class="time">19:30 - 21:00</span>
                <span class="title">ğŸ® é´¨å·å¤œæ•£ç­–ï¼šå…ˆæ–—ç”ºãƒ»æ²³åŸç”º</span>
                <div class="btn-group">
                    <button onclick="showSpot('pontocho')" class="btn-info">â„¹ï¸ æ™¯é»ä»‹ç´¹</button>
                    <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Pontocho+Kyoto')" class="btn-map">ğŸ“ å…ˆæ–—ç”º</button>
                    <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Kyoto+Takashimaya')" class="btn-map">ğŸ“ é«˜å³¶å±‹</button>
                </div>
            </div>

            <div class="card hotel">
                <span class="time">21:30</span>
                <span class="title">ğŸ›ï¸ è¿”å›ä½å®¿ä¼‘æ¯</span>
                <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=K-style+Higashi-Honganji')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>
        </div>

        <!-- Day 4 -->
        <div id="day4" class="day-content">
            <div class="weather-widget" id="weather-day4">
                <div style="display:flex; align-items:center;">
                    <div class="weather-icon">â„ï¸</div>
                    <div class="weather-info"><div class="weather-temp">...</div><div class="weather-desc">è¼‰å…¥ä¸­...</div></div>
                </div>
                <div style="font-size:11px; color:#999; text-align:right;">ç©¿æ­å»ºè­°<br>é˜²é¢¨å¤–å¥—/å¸½å­</div>
            </div>

            <div class="card train">
                <span class="time">08:30 - 09:00</span>
                <span class="title">ğŸš‡ ç§»å‹•ï¼šå‰å¾€ä¼è¦‹ç¨»è· <span class="fare-tag">Â¥150</span></span>
                <span class="desc">æ­¥è¡Œè‡³äº¬éƒ½ç«™ï¼Œæ­ JR å¥ˆè‰¯ç·šè‡³ç¨»è·ç«™ã€‚</span>
                <button onclick="openMap('https://www.google.com/maps/dir/K-style+Higashi-Honganji/Fushimi+Inari+Taisha/')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>

            <div class="card">
                <span class="time">09:00</span>
                <span class="title">â›©ï¸ ä¼è¦‹ç¨»è·å¤§ç¤¾</span>
                <div class="btn-group">
                    <button onclick="showSpot('inari')" class="btn-info">â„¹ï¸ æ™¯é»ä»‹ç´¹</button>
                    <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Fushimi+Inari+Taisha')" class="btn-map">ğŸ“ å°èˆª</button>
                </div>
            </div>

            <div class="card train">
                <span class="time">12:00</span>
                <span class="title">ğŸš… ç§»å‹•ï¼šäº¬éƒ½ -> ç¥æˆ¶ä¸‰å®® <span class="fare-tag">Â¥1,110</span></span>
                <span class="desc">JR äº¬éƒ½ç·š<b>æ–°å¿«é€Ÿ</b> (å¾€å§¬è·¯/ç¶²å¹²)ã€‚</span>
                <div class="timetable">
                    <div class="timetable-row"><span class="timetable-time">11:30</span> <span class="timetable-dest" style="color:#d35400;">æ–°å¿«é€Ÿ (12:22 æŠµé”)</span></div>
                    <div class="timetable-row"><span class="timetable-time">11:45</span> <span class="timetable-dest" style="color:#d35400;">æ–°å¿«é€Ÿ (12:37 æŠµé”)</span></div>
                    <div class="timetable-row" style="background-color: #fff8e1;"><span class="timetable-time">12:00</span> <span class="timetable-dest" style="color:#d35400;">æ–°å¿«é€Ÿ (12:52 æŠµé”) â˜…</span></div>
                    <div class="timetable-row"><span class="timetable-time">12:15</span> <span class="timetable-dest" style="color:#d35400;">æ–°å¿«é€Ÿ (13:07 æŠµé”)</span></div>
                    <div class="timetable-row"><span class="timetable-time">12:30</span> <span class="timetable-dest" style="color:#d35400;">æ–°å¿«é€Ÿ (13:22 æŠµé”)</span></div>
                    <div class="timetable-row"><span class="timetable-time">12:45</span> <span class="timetable-dest" style="color:#d35400;">æ–°å¿«é€Ÿ (13:37 æŠµé”)</span></div>
                    <div class="timetable-row"><span class="timetable-time">13:00</span> <span class="timetable-dest" style="color:#d35400;">æ–°å¿«é€Ÿ (13:52 æŠµé”)</span></div>
                </div>
            </div>

            <div class="card hotel">
                <span class="time">Check-in</span>
                <span class="title">ğŸ¨ ä½å®¿ï¼šç¥æˆ¶ä¸‰å®®çš‡å®¶å…¬åœ’ CANVAS</span>
                <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Royal+Park+Canvas+Kobe+Sannomiya')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>

            <div class="card">
                <span class="time">15:30</span>
                <span class="title">ğŸ˜ï¸ åŒ—é‡ç•°äººé¤¨è¡—</span>
                <div class="btn-group">
                    <button onclick="showSpot('kitano')" class="btn-info">â„¹ï¸ æ™¯é»ä»‹ç´¹</button>
                    <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Kitano+Ijinkan-gai')" class="btn-map">ğŸ“ å°èˆª</button>
                </div>
            </div>

            <div class="card food">
                <span class="time">19:00</span>
                <span class="title">ğŸ¥© æ™šé¤ï¼šç‚­ç‡’è‚‰ çŸ³ç”°å±‹ æœ¬åº—</span>
                <span class="desc">é ‚ç´šç¥æˆ¶ç‰› (å‹™å¿…é ç´„)ã€‚</span>
                <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Sumi+Yakiniku+Ishidaya+Main+Shop')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>

            <div class="card">
                <span class="time">21:00 - 22:00</span>
                <span class="title">ğŸ—¼ ç¥æˆ¶æ¸¯å¡” & ç¾åˆ©å …å…¬åœ’</span>
                <span class="desc">æ¬£è³ç¥æˆ¶ç™¾è¬å¤œæ™¯ï¼Œã€ŒBE KOBEã€åœ°æ¨™ã€‚</span>
                <div class="btn-group">
                    <button onclick="showSpot('porttower')" class="btn-info">â„¹ï¸ æ™¯é»ä»‹ç´¹</button>
                    <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Kobe+Port+Tower')" class="btn-map">ğŸ“ å°èˆª</button>
                </div>
            </div>

            <div class="card hotel">
                <span class="time">22:15</span>
                <span class="title">ğŸ›ï¸ è¿”å›ä½å®¿ä¼‘æ¯</span>
                <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Royal+Park+Canvas+Kobe+Sannomiya')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>
        </div>

        <!-- Day 5 -->
        <div id="day5" class="day-content">
            <div class="weather-widget" id="weather-day5">
                <div style="display:flex; align-items:center;">
                    <div class="weather-icon">ğŸŒ¥ï¸</div>
                    <div class="weather-info"><div class="weather-temp">...</div><div class="weather-desc">è¼‰å…¥ä¸­...</div></div>
                </div>
                <div style="font-size:11px; color:#999; text-align:right;">ç©¿æ­å»ºè­°<br>èˆ’é©ä¿æš–</div>
            </div>

            <div class="card train">
                <span class="time">09:20 - 10:00</span>
                <span class="title">ğŸš ç§»å‹•ï¼šå‰å¾€å‹•ç‰©ç‹åœ‹ <span class="fare-tag">Â¥290</span></span>
                <span class="desc">09:20 é€€æˆ¿ã€‚æ­ Port Liner è‡³è¨ˆç®—ç§‘å­¸ä¸­å¿ƒç«™ã€‚</span>
                <div class="timetable">
                    <div class="timetable-row"><span class="timetable-time">09:30</span> <span class="timetable-dest">å¾€ ç¥æˆ¶æ©Ÿå ´</span></div>
                    <div class="timetable-row"><span class="timetable-time">09:40</span> <span class="timetable-dest">å¾€ ç¥æˆ¶æ©Ÿå ´ (æ¨è–¦)</span></div>
                    <div class="timetable-row"><span class="timetable-time">09:50</span> <span class="timetable-dest">å¾€ ç¥æˆ¶æ©Ÿå ´</span></div>
                </div>
            </div>

            <div class="card">
                <span class="time">10:00 - 11:45</span>
                <span class="title">ğŸ¦˜ ç¥æˆ¶å‹•ç‰©ç‹åœ‹ <span class="fare-tag">é–€ç¥¨ Â¥2,200</span></span>
                <span class="desc">æŠŠæ¡ 1.5 å°æ™‚ï¼<span style="color:#c0392b;">âš ï¸ 11:45 æº–æ™‚é›¢é–‹ã€‚</span></span>
                <div class="btn-group">
                    <button onclick="showSpot('animal')" class="btn-info">â„¹ï¸ æ™¯é»ä»‹ç´¹</button>
                    <button onclick="openMap('https://www.google.com/maps/search/?api=1&query=Kobe+Animal+Kingdom')" class="btn-map">ğŸ“ å°èˆª</button>
                </div>
            </div>

            <div class="card train">
                <span class="time">11:45 - 12:00</span>
                <span class="title">ğŸš ç§»å‹•ï¼šå‰å¾€ç¥æˆ¶æ©Ÿå ´ <span class="fare-tag">Â¥250</span></span>
                <span class="desc">æ­ä¹˜ Port Liner (1 ç«™) è‡³ç¥æˆ¶æ©Ÿå ´ã€‚</span>
                <button onclick="openMap('https://www.google.com/maps/dir/Kobe+Animal+Kingdom/Kobe+Airport/')" class="btn-map">ğŸ“ å°èˆª</button>
            </div>

            <div class="card flight">
                <span class="time">13:30 - 16:00</span>
                <span class="title">âœˆï¸ æ˜Ÿå®‡èˆªç©º JX307</span>
                <span class="desc">ç¥æˆ¶ (UKB) -> å°ä¸­ (RMQ)</span>
            </div>
        </div>

        <!-- Maps -->
        <div id="maps" class="day-content">
            <div class="card">
                <span class="title">ğŸ—ºï¸ è»Šç«™ç«‹é«”åœ– (æ§‹å†…å›³)</span>
                <span class="desc">é»æ“Šä¸‹æ–¹æŒ‰éˆ•æœå°‹ç«‹é«”å¹³é¢åœ–ã€‚<br>å¦‚æœä¸å½ˆå‡ºï¼Œè«‹é•·æŒ‰é¸æ“‡ã€Œåœ¨æ–°åˆ†é é–‹å•Ÿã€ã€‚</span>
            </div>
            
            <div class="map-grid">
                <div class="map-card">
                    <span class="map-tag tag-port">Port Liner</span><span class="map-name">ç¥æˆ¶æ©Ÿå ´ç«™</span>
                    <button onclick="openMap('https://www.google.com/search?q=ç¥æˆ¸ç©ºæ¸¯é§…+æ§‹å†…å›³&tbm=isch')" class="btn-view-map">æŸ¥çœ‹ç«‹é«”åœ–</button>
                </div>
                <div class="map-card">
                    <span class="map-tag tag-jr">JR è¥¿æ—¥æœ¬</span><span class="map-name">ä¸‰ãƒå®®ç«™</span>
                    <button onclick="openMap('https://www.google.com/search?q=JRä¸‰ãƒå®®é§…+æ§‹å†…å›³+ç«‹é«”&tbm=isch')" class="btn-view-map">æŸ¥çœ‹ç«‹é«”åœ–</button>
                </div>
                <div class="map-card">
                    <span class="map-tag tag-jr">JR è¥¿æ—¥æœ¬</span><span class="map-name">å¤§é˜ªç«™ (æ¢…ç”°)</span>
                    <button onclick="openMap('https://www.google.com/search?q=JRå¤§é˜ªé§…+æ§‹å†…å›³+ç«‹é«”&tbm=isch')" class="btn-view-map">æŸ¥çœ‹ç«‹é«”åœ–</button>
                </div>
                <div class="map-card">
                    <span class="map-tag tag-metro">Osaka Metro</span><span class="map-name">å¿ƒé½‹æ©‹ç«™</span>
                    <button onclick="openMap('https://www.google.com/search?q=å¤§é˜ªãƒ¡ãƒˆãƒ­+å¿ƒæ–æ©‹é§…+æ§‹å†…å›³&tbm=isch')" class="btn-view-map">æŸ¥çœ‹ç«‹é«”åœ–</button>
                </div>
                <div class="map-card">
                    <span class="map-tag tag-metro">Osaka Metro</span><span class="map-name">é•·å €æ©‹ç«™</span>
                    <button onclick="openMap('https://www.google.com/search?q=å¤§é˜ªãƒ¡ãƒˆãƒ­+é•·å €æ©‹é§…+æ§‹å†…å›³&tbm=isch')" class="btn-view-map">æŸ¥çœ‹ç«‹é«”åœ–</button>
                </div>
                <div class="map-card">
                    <span class="map-tag tag-kintetsu">è¿‘éµ/é˜ªç¥</span><span class="map-name">å¤§é˜ªé›£æ³¢ç«™</span>
                    <button onclick="openMap('https://www.google.com/search?q=å¤§é˜ªé›£æ³¢é§…+æ§‹å†…å›³&tbm=isch')" class="btn-view-map">æŸ¥çœ‹ç«‹é«”åœ–</button>
                </div>
                <div class="map-card">
                    <span class="map-tag tag-jr">JR / è¿‘éµ</span><span class="map-name">äº¬éƒ½ç«™</span>
                    <button onclick="openMap('https://www.google.com/search?q=äº¬éƒ½é§…+æ§‹å†…å›³+ç«‹é«”&tbm=isch')" class="btn-view-map">æŸ¥çœ‹ç«‹é«”åœ–</button>
                </div>
                <div class="map-card">
                    <span class="map-tag tag-jr">JR è¥¿æ—¥æœ¬</span><span class="map-name">ç¨»è·ç«™</span>
                    <button onclick="openMap('https://www.google.com/search?q=JRç¨²è·é§…+æ§‹å†…å›³&tbm=isch')" class="btn-view-map">æŸ¥çœ‹ç«‹é«”åœ–</button>
                </div>
            </div>
        </div>

    </div>

    <!-- Nav Bar -->
    <div class="nav-bar">
        <div class="nav-item active" id="nav-day1" onclick="switchTab('day1', this)">
            <div class="nav-weather-icon">â˜ï¸</div><div class="nav-info">1/10 å¤§é˜ª</div><div class="nav-temp">...</div>
        </div>
        <div class="nav-item" id="nav-day2" onclick="switchTab('day2', this)">
            <div class="nav-weather-icon">â˜€ï¸</div><div class="nav-info">1/11 å¤§é˜ª</div><div class="nav-temp">...</div>
        </div>
        <div class="nav-item" id="nav-day3" onclick="switchTab('day3', this)">
            <div class="nav-weather-icon">ğŸŒ¤ï¸</div><div class="nav-info">1/12 äº¬éƒ½</div><div class="nav-temp">...</div>
        </div>
        <div class="nav-item" id="nav-day4" onclick="switchTab('day4', this)">
            <div class="nav-weather-icon">â„ï¸</div><div class="nav-info">1/13 äº¬/ç¥</div><div class="nav-temp">...</div>
        </div>
        <div class="nav-item" id="nav-day5" onclick="switchTab('day5', this)">
            <div class="nav-weather-icon">ğŸŒ¥ï¸</div><div class="nav-info">1/14 ç¥æˆ¶</div><div class="nav-temp">...</div>
        </div>
        <div class="nav-item" id="nav-maps" onclick="switchTab('maps', this)">
            <div class="nav-weather-icon" style="font-size: 22px;">ğŸ—ºï¸</div><div class="nav-info">åœ°åœ–</div><div class="nav-temp" style="opacity:0;">.</div>
        </div>
    </div>

    <!-- Info Modal -->
    <div id="infoModal" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal-card">
            <button class="modal-close" onclick="closeModal(event)">Ã—</button>
            <span id="modalTag" class="modal-tag">TAG</span>
            <div id="modalTitle" class="modal-title">Title</div>
            <div id="modalDesc" class="modal-desc">Desc</div>
        </div>
    </div>

    <script>
        const backgrounds = {
            'day1': 'url("https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=2070")',
            'day2': 'url("https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=2070")',
            'day3': 'url("https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=2070")',
            'day4': 'url("https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=2070")',
            'day5': 'url("https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=2070")',
            'maps': 'url("https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=2070")'
        };

        const spotData = {
            'mel-coffee': { title: 'Mel Coffee Roasters', tag: 'ä¸–ç•Œç´šå’–å•¡', desc: 'å…¥é¸ä¸–ç•Œæœ€ä½³50é–“å’–å•¡é¤¨ã€‚ä»¥æ·ºç„™æ‰‹æ²–èåã€‚' },
            'shinsaibashi': { title: 'å¿ƒé½‹æ©‹ç­‹å•†åº—è¡—', tag: 'è³¼ç‰©å¤©å ‚', desc: 'å¤§é˜ªæœ€è‘—åå•†åº—è¡—ï¼Œè—¥å¦æœé£¾æ‡‰æœ‰ç›¡æœ‰ã€‚' },
            'cruise': { title: 'Wonder Cruise', tag: 'å¤œæ™¯å·¡éŠ', desc: 'é“é “å €å·è§€å…‰èˆ¹ï¼Œèˆ‡è·‘è·‘äººçœ‹æ¿åˆç…§æœ€ä½³è¦–è§’ã€‚' },
            'gozabune': { title: 'å¤§é˜ªåŸå¾¡åº§èˆ¹', tag: 'æ­·å²é«”é©—', desc: 'è¡Œé§›æ–¼è­·åŸæ²³çš„è±ªè¯éŠèˆ¹ï¼Œä»°æœ›çŸ³å£èˆ‡å¤©å®ˆé–£ã€‚' },
            'osakacastle': { title: 'å¤§é˜ªåŸå¤©å®ˆé–£', tag: 'å¤§é˜ªåœ°æ¨™', desc: 'è±è‡£ç§€å‰çš„æ¬ŠåŠ›è±¡å¾µï¼Œç™»é ‚å¯ä¿¯ç°å¤§é˜ªå¸‚æ™¯ã€‚' },
            'skybuilding': { title: 'æ¢…ç”°è—å¤©å¤§å»ˆ', tag: 'çµ•ç¾é«˜ç©º', desc: '360åº¦éœ²å¤©ç©ºä¸­åº­åœ’ï¼Œç„¡æ­»è§’æ¬£è³å¤§é˜ªæ™¯è‰²ã€‚' },
            'aoniyoshi': { title: 'è§€å…‰ç‰¹æ€¥ AONIYOSHI', tag: 'å¥¢è¯ç§»å‹•', desc: 'ä»¥å¥ˆè‰¯å¤éƒ½ç‚ºæ„è±¡çš„ç´«è‰²è±ªè¯åˆ—è»Šã€‚' },
            'kiyomizu': { title: 'æ¸…æ°´å¯º', tag: 'ä¸–ç•Œéºç”¢', desc: 'äº¬éƒ½æœ€è‘—åå¤å‰ï¼Œæ‡¸ç©ºæ¸…æ°´èˆå°æ˜¯å¿…çœ‹çµ•æ™¯ã€‚' },
            'gion': { title: 'ç¥‡åœ’ç™½å·', tag: 'äº¬éƒ½é¢¨æƒ…', desc: 'æŸ³æ¨¹ã€å°æ©‹ã€ç”ºå®¶ï¼Œæœ€ç¾çš„äº¬éƒ½æ•£æ­¥é“ã€‚' },
            'pontocho': { title: 'å…ˆæ–—ç”º', tag: 'ç¾é£Ÿçª„å··', desc: 'é´¨å·æ—çš„çŸ³æ¿çª„å··ï¼Œå……æ»¿äº¬éƒ½é¢¨å‘³çš„é¤å»³è¡—ã€‚' },
            'inari': { title: 'ä¼è¦‹ç¨»è·å¤§ç¤¾', tag: 'åƒæœ¬é³¥å±…', desc: 'ç¶¿å»¶ä¸çµ•çš„æœ±ç´…è‰²é³¥å±…ï¼Œæ¥µå…·è¦–è¦ºéœ‡æ’¼ã€‚' },
            'kitano': { title: 'åŒ—é‡ç•°äººé¤¨è¡—', tag: 'ç•°åœ‹å»ºç¯‰', desc: 'æ˜æ²»æ™‚ä»£æ´‹é¢¨å»ºç¯‰ç¾¤ï¼Œé¢¨è¦‹é›ä¹‹é¤¨ç‚ºä»£è¡¨ã€‚' },
            'porttower': { title: 'ç¥æˆ¶æ¸¯å¡”', tag: 'æ¸¯ç£åœ°æ¨™', desc: 'é®®ç´…é¼“å½¢å»ºç¯‰ï¼Œå¤œæ™šç‡ˆå…‰èˆ‡ç¾åˆ©å …å…¬åœ’ç›¸æ˜ æˆè¶£ã€‚' },
            'animal': { title: 'ç¥æˆ¶å‹•ç‰©ç‹åœ‹', tag: 'é›¶è·é›¢', desc: 'æ°´è±šã€è¢‹é¼ å°±åœ¨è…³é‚Šï¼Œè¶…é«˜äº’å‹•æ€§çš„å‹•æ¤ç‰©åœ’ã€‚' }
        };

        function showSpot(key) {
            const d = spotData[key]; if(!d) return;
            document.getElementById('modalTag').innerText = d.tag;
            document.getElementById('modalTitle').innerText = d.title;
            document.getElementById('modalDesc').innerText = d.desc;
            document.getElementById('infoModal').classList.add('open');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(e) {
            if(e.target.classList.contains('modal-overlay') || e.target.classList.contains('modal-close')) {
                document.getElementById('infoModal').classList.remove('open');
                document.body.style.overflow = '';
            }
        }

        function switchTab(id, el) {
            document.querySelectorAll('.day-content').forEach(e => e.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.querySelectorAll('.nav-item').forEach(e => e.classList.remove('active'));
            el.classList.add('active');
            if(backgrounds[id]) document.getElementById('app-background').style.backgroundImage = backgrounds[id];
            
            const titles = {
                'day1': ['Day 1: å¤§é˜ªæŠµé”', '1æœˆ10æ—¥ (äº”)'], 'day2': ['Day 2: å¤§é˜ªåŸ & æ¢…ç”°', '1æœˆ11æ—¥ (å…­)'],
                'day3': ['Day 3: äº¬éƒ½ AONIYOSHI', '1æœˆ12æ—¥ (æ—¥)'], 'day4': ['Day 4: ä¼è¦‹ç¨»è· & ç¥æˆ¶', '1æœˆ13æ—¥ (ä¸€)'],
                'day5': ['Day 5: å‹•ç‰©ç‹åœ‹ & è¿”ç¨‹', '1æœˆ14æ—¥ (äºŒ)'], 'maps': ['è»Šç«™ç«‹é«”åœ–ç´¢å¼•', 'Station Maps']
            };
            document.getElementById('header-title').innerText = titles[id][0];
            document.getElementById('header-date').innerText = titles[id][1];
            window.scrollTo(0, 0);
        }

        function openMap(url) { window.open(url, '_blank', 'noopener,noreferrer'); }

        const weatherCodeMap = {
            0:'â˜€ï¸ æ™´æœ—',1:'ğŸŒ¤ï¸ å¤šé›²',2:'â˜ï¸ é™°å¤©',3:'â˜ï¸ é™°å¤©',45:'ğŸŒ«ï¸ æœ‰éœ§',48:'ğŸŒ«ï¸ æœ‰éœ§',
            51:'ğŸŒ§ï¸ æ¯›æ¯›é›¨',53:'ğŸŒ§ï¸ æ¯›æ¯›é›¨',55:'ğŸŒ§ï¸ æ¯›æ¯›é›¨',61:'â˜” å°é›¨',63:'â˜” ä¸­é›¨',65:'â˜” å¤§é›¨',
            71:'â„ï¸ å°é›ª',73:'â„ï¸ ä¸­é›ª',75:'â„ï¸ å¤§é›ª',80:'ğŸŒ¦ï¸ é™£é›¨',81:'ğŸŒ¦ï¸ é™£é›¨',82:'ğŸŒ¦ï¸ é™£é›¨',95:'â›ˆï¸ é›·é›¨',96:'â›ˆï¸ é›·é›¨',99:'â›ˆï¸ é›·é›¨'
        };
        const locs = [
            {lat:34.6937,lon:135.5022,n:'å¤§é˜ª',id:['day1','day2']},
            {lat:35.0116,lon:135.7681,n:'äº¬éƒ½',id:['day3']},
            {lat:34.6901,lon:135.1955,n:'ç¥æˆ¶',id:['day4','day5']}
        ];

        async function fetchWeather() {
            let dayIndex = 0;
            for(let loc of locs) {
                try {
                    const res = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${loc.lat}&longitude=${loc.lon}&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=Asia%2FTokyo`);
                    const data = await res.json();
                    
                    loc.id.forEach(did => {
                        updateWidget(`weather-${did}`, data.daily, dayIndex, loc.n);
                        updateNavBar(`nav-${did}`, data.daily, dayIndex);
                        dayIndex++;
                    });
                    if(loc.n === 'äº¬éƒ½') dayIndex--; // Kyoto and Kobe share day 4 transition logic roughly
                } catch(e) { console.error(e); }
            }
        }

        function updateWidget(eid, daily, idx, name) {
            const w = document.getElementById(eid);
            if(!w || !daily.weather_code[idx]) return;
            const code = daily.weather_code[idx];
            const desc = weatherCodeMap[code] || 'å¤šé›²';
            w.querySelector('.weather-icon').innerText = desc.split(' ')[0];
            w.querySelector('.weather-info').innerHTML = `<div class="weather-temp">${Math.round(daily.temperature_2m_min[idx])}Â°C - ${Math.round(daily.temperature_2m_max[idx])}Â°C <span class="api-badge">ğŸŸ¢ Live API</span></div><div class="weather-desc">${name}ãƒ»${desc.split(' ')[1]}</div>`;
        }

        function updateNavBar(nid, daily, idx) {
            const n = document.getElementById(nid);
            if(!n || !daily.weather_code[idx]) return;
            const code = daily.weather_code[idx];
            const desc = weatherCodeMap[code] || 'â˜ï¸';
            n.querySelector('.nav-weather-icon').innerText = desc.split(' ')[0];
            n.querySelector('.nav-temp').innerText = `${Math.round(daily.temperature_2m_min[idx])}~${Math.round(daily.temperature_2m_max[idx])}Â°C`;
        }

        fetchWeather();
    </script>
</body>
</html>


